angular.module("app").run(["$templateCache",function(e){e.put("partials/application.html",'<div ng-controller=GMACtrl><nav class="navbar navbar-inverse navbar-static-top"><div class=container><div class=navbar-header><a class=navbar-brand>GMA</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav" ng-if=current.assignment><li class=dropdown dropdown=""><a class="dropdown-toggle ministry-title" dropdown-toggle="">{{current.assignment.name}} <span class=caret></span></a><ul class=dropdown-menu role=menu><li ng-repeat="a in current.assignments | orderBy:\'name\'" ng-include="\'partials/ministry-item.html\'"></li><li class=divider></li><li><a ng-click=joinMinistry(true)>Join another location / ministry</a></li></ul></li><li class=dropdown ng-if="current.assignment.mccs.length > 0" dropdown=""><a class=dropdown-toggle dropdown-toggle="">{{mccLabels[current.mcc]}} <span class=caret></span></a><ul class=dropdown-menu role=menu><li ng-repeat="mcc in current.assignment.mccs | orderBy:mccSort"><a ng-click="current.mcc = mcc">{{mccLabels[mcc]}}</a></li></ul></li><li><a ng-click=prevPeriod()><span class="glyphicon glyphicon-chevron-left"></span></a></li><li class=dropdown dropdown=""><a class=dropdown-toggle dropdown-toggle="">{{current.period.format(\'YYYY-MM\')}} <span class=caret></span></a><ul class=dropdown-menu role=menu><li ng-repeat="period in periods"><a ng-click="current.period = period">{{period.format(\'YYYY-MM\')}}</a></li></ul></li><li><a ng-click=nextPeriod()><span class="glyphicon glyphicon-chevron-right"></span></a></li></ul><ul class="nav navbar-nav navbar-right" ng-if=current.user><li class=dropdown dropdown=""><a class=dropdown-toggle dropdown-toggle="" role=button aria-expanded=false>{{current.user.cas_username}} <span class=caret></span></a><ul class=dropdown-menu role=menu><li><a ng-click=logout()>Logout</a></li></ul></li></ul></div></div></nav><div class=container><div><ul class="nav nav-tabs" role=tablist><li ng-repeat="tab in visibleTabs" ng-class="{active: $location.path() === tab.path}" ng-show=current.hasRole(tab.requiredRoles)><a ng-href=#{{tab.path}}>{{tab.name}}</a></li></ul><div class=tab-content><div class="tab-pane active"><div ng-view=""></div><div ng-include="\'partials/spinner.html\'" ng-hide=current.isLoaded></div></div></div></div><div class=row ng-if=mobileApps><div class=col-xs-12><div class=text-center>Mobile Apps: <a ng-repeat-start="app in mobileApps" ng-href={{app.link}}>{{app.label}}</a> <span ng-repeat-end="" ng-if=!$last>|</span></div></div></div><footer><span>&copy; Campus Crusade for Christ 2014</span></footer></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/join-ministry.html",'<div class=modal-header><h3 class=modal-title>Join Ministry/Team</h3><p>You can request create a provisional assignment to ministry/team here. Until this request has been approved by a leader of this team/ministry, your access will be read only. You can submit personal ministry measurements, but these values won\'t be included until your request has been approved.</p></div><div class="modal-body form-horizontal"><div class=form-group><label for=ministryName class="col-xs-4 control-label">Ministry/Team:</label><div class=col-xs-8><input id=ministryName class=form-control ng-model=ministry typeahead="m as m.name for m in ministries | filter:$viewValue | limitTo:8" typeahead-min-length=2 typeahead-editable=false><p class=help-block>Start typing to search for ministry</p></div></div></div><div class=modal-footer><button type=button class="btn btn-primary" ng-disabled=!ministry ng-click=join()>Join Ministry/Team</button> <button ng-if=allowClose type=button class="btn btn-default" ng-click=cancel()>Cancel</button></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/ministry-item.html",'<a ng-click="current.assignment = a">{{a.name}}</a><ul><li ng-repeat="a in a.sub_ministries" ng-include="\'partials/ministry-item.html\'"></li></ul>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/spinner.html",'<div class=spinner><div class="spinner-container container1"><div class=circle1></div><div class=circle2></div><div class=circle3></div><div class=circle4></div></div><div class="spinner-container container2"><div class=circle1></div><div class=circle2></div><div class=circle3></div><div class=circle4></div></div><div class="spinner-container container3"><div class=circle1></div><div class=circle2></div><div class=circle3></div><div class=circle4></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/admin/add-measurement-type.html",'<div class=modal-header><button type=button class=close ng-click=close()><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h4 class=modal-title>Add Measurement</h4></div><div class="modal-body form-horizontal"><div class=form-group><label for=newMeasurementName class="col-sm-4 control-label">Name:</label><div class=col-sm-8><input id=newMeasurementName type=text class=form-control ng-model=newMeasurement.english></div></div><div class=form-group><label for=newMeasurementPermalink class="col-sm-4 control-label">Permalink:</label><div class=col-sm-8><input id=newMeasurementPermalink type=text class=form-control ng-model=newMeasurement.perm_link_stub></div></div><div class=form-group><label class="col-sm-4 control-label">Column:</label><div class=col-sm-8><select class=form-control style="width: 150px;" ng-model=newMeasurement.column><option value=faith>Faith</option><option value=fruit>Fruit</option><option value=outcome>Outcome</option><option value=other>Other</option></select></div></div><div class=form-group><label class="col-sm-4 control-label">Section:</label><div class=col-sm-8><select class=form-control style="width: 150px;" ng-model=newMeasurement.section><option value=win>Win</option><option value=build>Build</option><option value=send>Send</option><option value=other>Other</option></select></div></div></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=close()>Close</button> <button type=button class="btn btn-primary" ng-click=add()>Create</button></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/admin/add-sub-ministry.html",'<div class=modal-header><button type=button class=close ng-click=close()><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h4 class=modal-title>Add a new Sub Ministry</h4></div><div class="modal-body form-horizontal"><div class=form-group><label for=sbName class="col-sm-4 control-label">Ministry name:</label><div class=col-sm-8><input id=sbName type=text class=form-control ng-model=newMinistry.name></div></div><div class=form-group><label for=sbCode class="col-sm-4 control-label">Ministry code:</label><div class=col-sm-8><input id=sbCode type=text class=form-control ng-model=newMinistry.min_code></div></div></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=close()>Close</button> <button type=button class="btn btn-primary" ng-click=add()>Create</button></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/admin/add-team-member.html",'<div class=modal-header><button type=button class=close ng-click=close()><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h4 class=modal-title>Add a new Team Member</h4></div><div class="modal-body form-horizontal"><div class=form-group><label for=tbUserName class="col-sm-4 control-label">TheKey username:</label><div class=col-sm-8><input id=tbUserName type=email class=form-control placeholder="e.g. user@ccci.org" ng-model=newMember.username></div></div><div class=form-group><label class="col-sm-4 control-label">Role</label><div class=col-sm-8><select class=form-control style="width: 150px;" ng-model=newMember.team_role ng-options="r.value as r.text for r in roles"></select></div></div></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=close()>Close</button> <button type=button class="btn btn-primary" ng-click=add()>Save changes</button></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/admin/admin.html",'<div class="row admin-columns" ng-show=ministry><div class=admin-item><div class="panel panel-default"><div class=panel-heading><button type=button class="pull-right btn btn-primary btn-sm" ng-click=addTeamMember()>Add Team Member</button><h3 class=panel-title>Team Members</h3><div class=clearfix></div></div><div class=panel-body><table class="table table-striped"><thead><tr><th>First Name</th><th>Last Name</th><th>Role</th><th></th></tr></thead><tbody><tr ng-repeat="staff in ministry.team_members | orderBy:[\'first_name\', \'last_name\']" ng-if="current.user.person_id !== staff.person_id"><td>{{staff.first_name}}</td><td>{{staff.last_name}}</td><td><select class=form-control style="width: 150px;" ng-model=staff.team_role ng-options="r.value as r.text for r in roles" ng-disabled=!staff.editMode></select></td><td><a ng-click="staff.editMode=true; staff.orig_role=staff.team_role;" ng-show=!staff.editMode>Edit</a> <a ng-click="staff.editMode=false; saveRole(staff);" ng-show=staff.editMode>Save</a> <a ng-click="staff.editMode=false; staff.team_role=staff.orig_role" ng-show=staff.editMode>Cancel</a></td></tr></tbody></table></div></div></div><div class=admin-item><div class="panel panel-default"><div class=panel-heading><button type=button class="pull-right btn btn-primary btn-sm" ng-click=addSubMinistry()>Add Sub Ministry</button><h3 class=panel-title>Child Ministries / Sub Teams</h3><div class=clearfix></div></div><div class=panel-body><div ng-repeat="min in current.assignment.sub_ministries"><a ng-click="current.assignment = min">{{min.name}}</a></div></div></div></div><div class=admin-item><div class="panel panel-default"><div class=panel-heading><button type=button class="pull-right btn btn-primary btn-sm" ng-click=addMeasurement()>Add Measurement</button><h3 class=panel-title>Measurements</h3><div class=clearfix></div></div><div class=panel-body><table class=table><tr ng-repeat="type in measurementTypes"><td>{{type.english}}</td><td class=text-right><div class=btn-group><label class="btn btn-default" ng-model=type.visible btn-radio=true>Show</label> <label class="btn btn-default" ng-model=type.visible btn-radio=false>Hide</label></div></td></tr></table></div><div class=panel-footer><button type=button class="btn btn-primary pull-right" ng-click=saveDetails() ng-disabled="saveDetailsResource && !saveDetailsResource.$resolved">Save</button><div class=clearfix></div></div></div></div><div class=admin-item><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title>Details</h3><div class=clearfix></div></div><div class=panel-body><alert type={{saveDetailsAlert.type}} ng-show=saveDetailsAlert close="saveDetailsAlert = null">{{saveDetailsAlert.msg}}</alert><div class="form-group row"><label for=ministryName class="col-sm-4 control-label">Ministry Name:</label><div class=col-sm-8><input id=ministryName type=text class=form-control ng-model=ministry.name></div></div><div class="form-group row" ng-show=ableToChangeParentMinistry(ministry.parent_id)><label class="col-sm-4 control-label">Parent Ministry:</label><div class=col-sm-8><select name=prent class=form-control ng-model=ministry.parent_id ng-options="m.ministry_id as m.name for m in current.ministries | roleFilter:[\'leader\',\'inherited_leader\'] | orderBy:\'name\'"><option>No Parent Ministry</option></select></div></div><div class="form-group row"><label class="col-sm-4 control-label">MCCs:</label><div class=col-sm-8><div class=checkbox><label><input type=checkbox ng-model=ministry.has_ds> Digital Strategies</label></div><div class=checkbox><label><input type=checkbox ng-model=ministry.has_gcm> Global Church Movements</label></div><div class=checkbox><label><input type=checkbox ng-model=ministry.has_llm> Leader Led</label></div><div class=checkbox><label><input type=checkbox ng-model=ministry.has_slm> Student Led</label></div></div></div></div><div class=panel-footer><button type=button class="btn btn-primary pull-right" ng-click=saveDetails() ng-disabled="saveDetailsResource && !saveDetailsResource.$resolved">Save Ministry</button><div class=clearfix></div></div></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/map/edit-church.html",'<div id=church_window><div style=clear:both><div class=church-window><h4>{{edit_church.name}}<br><small>{{edit_church.size}} members</small></h4><table class="table table-condensed"><tr><td><b>Contact Name:</b></td><td><input type=text ng-show=edit_church.editable ng-model=edit_church.contact_name> <label ng-hide=edit_church.editable>{{edit_church.contact_name}}</label></td></tr><tr><td><b>Contact Email:</b></td><td><input type=email ng-show=edit_church.editable ng-model=edit_church.contact_email> <label ng-hide=edit_church.editable>{{edit_church.contact_email}}</label></td></tr><tr ng-show=edit_church.editable><td><b>Type:</b></td><td><select ng-model=edit_church.development ng-disabled=!edit_church.editable><option value=1>Target</option><option value=2>Group</option><option value=3>Church</option><option value=5>Multiplying Church</option></select></td></tr><tr ng-show=edit_church.editable><td><b>Size:</b></td><td><input type=number ng-disabled=!edit_church.editable ng-model=edit_church.size></td></tr><tr ng-show=edit_church.editable><td><b>Security:</b></td><td><select ng-model=edit_church.security ng-disabled=!edit_church.editable><option value=0>This Ministry Only</option><option value=1>This Ministry and above</option><option value=3>All Registred Users</option><option value=4>Everyone</option></select></td></tr><tr ng-if="edit_church.editable && current.hasRole([\'leader\', \'inherited_leader\'])"><td><b>Ministry:</b></td><td><select ng-model=edit_church.ministry_id ng-options="m.ministry_id as m.name for m in current.ministries | roleFilter:[\'leader\',\'inherited_leader\'] | orderBy:\'name\'"></select></td></tr></table><div class=center-block ng-if=edit_church.editable><button type=button class="btn btn-default btn-sm col-sm-4" ng-click=SaveChurch()><span class="glyphicon glyphicon-save" aria-hidden=true></span> Save</button> <button type=button class="btn btn-default btn-sm col-sm-4" ng-click=MoveChurch()><span class="glyphicon glyphicon-move" aria-hidden=true></span> Move</button> <button type=button class="btn btn-default btn-sm col-sm-4" ng-click=SetParent()><span class="glyphicon glyphicon-map-marker" aria-hidden=true></span> Set Parent</button></div></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/map/edit-training.html",'<div id=edit_training_window><div style=clear:both><div class=training-window><h4>{{edit_training.name}} <small>{{edit_training.type}}</small></h4><table class="table table-condensed"><tr><td><b>Name</b></td><td><input id=tbName type=text placeholder=Name ng-model=edit_training.name></td></tr><tr><td><b>Training Type:</b></td><td><select id=ddlTrainingType ng-model=edit_training.type ng-options="s.value as s.text for s in training_types"></select></td></tr><tr><td><b>Date:</b></td><td><input id=tbDate type=date class=map-training-date placeholder=Date ng-model=edit_training.date></td></tr><tr><td><b>MCC:</b></td><td>{{current_mcc}}</td></tr></table><table class="table table-striped"><thead><tr><th>Stage</th><th>Date</th><th>Participants</th><th></th></tr></thead><tbody><tr ng-repeat="comp in edit_training.gcm_training_completions track by comp.id"><td>{{comp.phase}}</td><td class=training-stages-control><span ng-hide=comp.editMode>{{comp.date}}</span> <input ng-show=comp.editMode class=map-training-date type=date ng-model=comp.date></td><td><span ng-hide=comp.editMode>{{comp.number_completed}}</span> <input ng-show=comp.editMode class=map-training-number type=number ng-model=comp.number_completed></td><td><a ng-click="comp.editMode=true; comp.orig_date=comp.date; comp.orig_num = comp.number_completed;" ng-show=!comp.editMode>Edit</a><a ng-click="comp.editMode=false; saveTrainingCompletion(comp);" ng-show=comp.editMode>Save</a> <a ng-click="comp.editMode=false; comp.date=comp.orig_date; comp.number_completed = comp.orig_num;" ng-show=comp.editMode>Cancel</a></td></tr><tr><td>{{training.current_stage}}</td><td class=training-stages-control><input type=date class=map-training-date ng-model=edit_training.insert.date></td><td><input type=number class=map-training-number ng-model=edit_training.insert.number_completed></td><td><a ng-click=addTrainingStage(edit_training);>Add Stage</a></td></tr></tbody></table><div class=center-block><button type=button class="btn btn-default btn-sm col-sm-4" ng-click=SaveTraining()><span class="glyphicon glyphicon-save" aria-hidden=true></span> Save</button> <button type=button class="btn btn-default btn-sm col-sm-4" ng-click=MoveTraining()><span class="glyphicon glyphicon-move" aria-hidden=true></span> Move</button></div><div style="clear: both"></div></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/map/map.html",'<div id=map_canvas style="width: 100%; height: 650px;"></div><div id=side class=map_side ng-show=current.isLoaded><button type=button class="btn btn-default" ng-click=onAddIcon() ng-if="current.hasRole([\'leader\', \'inherited_leader\'])"><span class="glyphicon glyphicon-plus"></span>&nbsp;<img ng-src="{{versionUrl(\'img/icon/target.png\')}}" style="max-height: 25px;"></button> <button type=button class="btn btn-default" ng-click=onAddTraining() ng-if="current.hasRole([\'leader\', \'inherited_leader\'])"><span class="glyphicon glyphicon-plus"></span>&nbsp;<img ng-src="{{versionUrl(\'img/icon/training.png\')}}" style="max-height: 25px;"></button><div class=map_legend_header ng-click="show_legend = !show_legend"><span>LEGEND<img class=showMoreArrow ng-src="{{versionUrl(\'img/\' + (show_legend ? \'up\' : \'down\') + \'.png\')}}" style=padding-left:10px></span></div><table class=map_legend ng-show=show_legend ng-init="show_legend=true"><tbody><tr><td><input type=checkbox class=church_development_checkbox ng-model=show_target_point development=1 ng-change=loadChurches()></td><td style="text-align:center; padding:2px 12px"><img class=map_legend_icon ng-src="{{versionUrl(\'img/icon/target.png\')}}"></td><td>target point</td></tr><tr><td><input type=checkbox class=church_development_checkbox ng-model=show_group development=2 ng-change=loadChurches()></td><td style="text-align:center; padding:2px 12px"><img class=map_legend_icon ng-src="{{versionUrl(\'img/icon/group.png\')}}"></td><td>group</td></tr><tr><td><input type=checkbox class=church_development_checkbox ng-model=show_church development=3 ng-change=loadChurches()></td><td style="text-align:center; padding:2px 12px"><img class=map_legend_icon ng-src="{{versionUrl(\'img/icon/church.png\')}}"></td><td>church or community of disciples</td></tr><tr><td><input type=checkbox class=church_development_checkbox ng-model=show_mult_church development=5 ng-change=loadChurches()></td><td style="text-align:center; padding:2px 12px"><img class=map_legend_icon ng-src="{{versionUrl(\'img/icon/multiplying.png\')}}"></td><td>multiplying church or community of disciples</td></tr><tr ng-if="current.hasRole([\'leader\', \'inherited_leader\'])"><td><input type=checkbox class=church_development_checkbox ng-model=show.training></td><td style="text-align:center; padding:2px 12px"><img class=map_legend_icon ng-src="{{versionUrl(\'img/icon/training.png\')}}"></td><td>training activity</td></tr><tr><td><input type=checkbox id=jesusFilmCheckBox ng-model=show_jf></td><td style="text-align:center; padding:2px 12px"><div style="display:inline-block; font-size:10px; font-weight:bold; border:1px solid #2a6800; padding:0px 3px; background-color:yellow; color:black">1</div></td><td>Jesus Film contribution</td></tr><tr><td><input type=checkbox id=parentLineCheckBox ng-model=show_lines></td><td style="text-align:center; padding:2px 12px"><div style="display:inline-block; width:14px; height:2px; background-color:grey"></div></td><td>parent lines</td></tr></tbody></table><div class=map_legend_header ng-click="show_filters = !show_filters"><span>FILTERS<img class=showMoreArrow ng-src="{{versionUrl(\'img/\' + (show_filters ? \'up\' : \'down\') + \'.png\')}}" style=padding-left:10px></span></div><div class=map-legend ng-show=show_filters ng-init="show_filters=true"><div class=radio><label><input type=radio id=filter_everything ng-model=map_filter value=everything ng-change=loadChurches()> Everything</label></div><div class=radio><label><input type=radio id=filter_my_target_area_only ng-model=map_filter value=min_only ng-change=loadChurches()> {{current.assignment.name}} only</label></div><div class=radio><label><input type=radio id=filterMyTree ng-model=map_filter value=tree ng-change=loadChurches()> {{current.assignment.name}} + tree</label></div></div><div><button type=button class="btn btn-default btn-block btn-sm" ng-click=setDefaultView() ng-if="current.hasRole([\'leader\', \'inherited_leader\'])">Set Ministry Default View</button></div></div><div id=map_controls class=map-controls ng-show=current.isLoaded><div class="pull-left map-search"><div class=input-group><input id=searchBox type=text class=form-control placeholder="Search for churches" typeahead="church as church.name for church in allChurches | filter:{name:$viewValue}" typeahead-editable=false ng-model=searchedChurch> <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/map/new-church.html",'<div id=new_church_window><div style=clear:both><div class=church-window><h4>Create New Church</h4><table class="table table-condensed"><tr><td><b>Name</b></td><td><input type=text ng-model=new_church.name></td></tr><tr><td><b>Contact Name:</b></td><td><input type=text ng-model=new_church.contact_name></td></tr><tr><td><b>Contact Email:</b></td><td><input type=email ng-model=new_church.contact_email></td></tr><tr><td><b>Type:</b></td><td><select ng-model=new_church.development><option value=1>Target</option><option value=2>Group</option><option value=3>Church</option><option value=5>Multiplying Church</option></select></td></tr><tr><td><b>Size:</b></td><td><input type=number ng-model=new_church.size></td></tr><tr><td><b>Security:</b></td><td><select ng-model=new_church.security><option value=0>This Ministry Only</option><option value=1>This Ministry and above</option><option value=2>All Registred Users</option><option value=3>Everyone</option></select></td></tr></table><button class="btn btn-primary" type=button ng-click=addChurch()>Add</button> <button class=btn type=button ng-click=cancelAddChurch()>Cancel</button><div style="clear: both"></div></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/map/new-training.html",'<div id=new_church_window><div style=clear:both><div class=church-window><h4>New Church Training Activity</h4><table class="table table-condensed"><tr><td><b>Name</b></td><td><input id=tbName type=text class=form-control placeholder=Name ng-model=new_training.name></td></tr><tr><td><b>Training Type:</b></td><td><select id=ddlTrainingType class=form-control ng-model=new_training.type ng-options="s.value as s.text for s in training_types"></select></td></tr><tr><td><b>Date:</b></td><td><input id=tbDate type=date class=form-control placeholder=Date ng-model=new_training.date></td></tr><tr><td><b>Participants:</b></td><td><input id=tbParticipants type=number class=form-control placeholder=(Optional) ng-model=new_training.participants></td></tr><tr><td><b>MCC:</b></td><td>{{current_mcc}}</td></tr></table><button class="btn btn-primary" type=button ng-click=addTraining()>Add</button> <button class=btn type=button ng-click=cancelAddChurch()>Cancel</button><div style="clear: both"></div></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/measurements/details.html",'<div class=modal-header><button type=button class=close ng-click=close();><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h2 class=modal-title>{{measurement.name}} <small>{{current.period.format(\'YYYY-MM\')}}</small></h2><div class="well well-sm measurement-desc">{{measurement.description}}</div></div><div class=modal-body ng-show=spinner ng-include="\'partials/spinner.html\'"></div><div class="modal-body edit_meas_form" ng-hide=spinner><div id=measurement_graph gma-trend="" ng-model=trend></div><form class=form-horizontal name=editForm><fieldset ng-init="localToggle=false"><legend class=pointer ng-click="localToggle=!localToggle">{{current.assignment.name}} (Local) <span class="glyphicon pull-right" ng-class="{\'glyphicon-triangle-left\': !localToggle, \'glyphicon-triangle-bottom\': localToggle}"></span></legend><div ng-if="current.hasRole([\'leader\', \'inherited_leader\'])"><div class=form-group ng-class="{\'has-error\': !editForm.local.$valid}"><label class="col-xs-5 control-label">Local</label><div class=col-xs-7><input class=form-control type=number placeholder=Local name=local ng-model=details.local_breakdown[ns]></div></div><div ng-show=localToggle class=form-group ng-repeat="(name, value) in filterSource(details.local_breakdown)"><label class="col-xs-5 control-label">{{name}}</label><div class=col-xs-7><input class=form-control type=number disabled ng-model=value></div></div></div><div ng-if="current.hasRole(\'member\')" ng-show=localToggle><div class=form-group><label class="col-xs-5 control-label">Total</label><div class=col-xs-7><input class=form-control type=number ng-model=details.local_breakdown.total disabled></div></div></div></fieldset><fieldset ng-init="teamToggle=false"><legend class=pointer ng-click="teamToggle=!teamToggle">Team Members <span class="glyphicon pull-right" ng-class="{\'glyphicon-triangle-left\': !teamToggle, \'glyphicon-triangle-bottom\': teamToggle}"></span></legend><div class=form-group ng-class="{\'has-error\': !editForm.person.$valid}" ng-if="current.hasRole([\'member\',\'leader\'])"><label class="col-xs-5 control-label">{{current.user.last_name}}, {{current.user.first_name}}</label><div class=col-xs-7><input class=form-control type=number placeholder=Personal name=person ng-model="details.my_measurements[ current.period.format(\'YYYY-MM\') ]"></div></div><div ng-show=teamToggle><div class=form-group ng-repeat="member in details.team" ng-if="current.hasRole([\'leader\', \'inherited_leader\'])"><label class="col-xs-5 control-label">{{member.last_name}}, {{member.first_name}}</label><div class=col-xs-7><input class=form-control type=number ng-model=member.total disabled></div></div><div class=form-group><label class="col-xs-5 control-label">TOTAL</label><div class=col-xs-7><input class=form-control type=number ng-model="details.total[current.period.format(\'YYYY-MM\')]" disabled></div></div></div></fieldset><fieldset ng-if="details.sub_ministries.length > 0" ng-init="ministryToggle = false"><legend class=pointer ng-click="ministryToggle=!ministryToggle">Sub-Ministries / Teams <span class="glyphicon pull-right" ng-class="{\'glyphicon-triangle-left\': !ministryToggle, \'glyphicon-triangle-bottom\': ministryToggle}"></span></legend><div ng-show=ministryToggle><div class=form-group ng-repeat="ministry in details.sub_ministries"><label class="col-xs-5 control-label">{{ministry.name}}</label><div class=col-xs-7><input class=form-control type=number disabled ng-model=ministry.total></div></div></div></fieldset><fieldset ng-init="selfToggle=false" ng-if="current.hasRole([\'leader\', \'inherited_leader\']) && details.self_assigned.length > 0"><legend class=pointer ng-click="selfToggle=!selfToggle">Self Assigned Members (not yet approved) <span class="glyphicon pull-right" ng-class="{\'glyphicon-triangle-left\': !selfToggle, \'glyphicon-triangle-bottom\': selfToggle}"></span></legend><div ng-show=selfToggle><div class=form-group ng-repeat="member in details.self_assigned"><label class="col-xs-5 control-label">{{member.last_name}}, {{member.first_name}}</label><div class=col-xs-7><div class="input-group col-xs-7" ng-class="{\'has-success\':member.success, \'has-error\':member.blocked}"><input class=form-control type=number ng-model=member.total disabled><div class=input-group-btn dropdown=""><button class="btn btn-default dropdown-toggle" dropdown-toggle="" aria-expanded=false ng-disabled=member.state ng-class="{\'btn-success\':member.success, \'btn-danger\':member.blocked}">{{member.state == \'success\' ? \'Approved\' : \'Approve\'}} <span class=caret></span></button><ul class="dropdown-menu dropdown-menu-right" role=menu><li><a ng-click="approveSelfAssigned(member, \'member\')">Member</a></li><li><a ng-click="approveSelfAssigned(member, \'leader\')">Leader</a></li><li role=presentation class=divider></li><li><a ng-click="approveSelfAssigned(member, \'blocked\')">Blocked</a></li></ul></div></div></div></div></div></fieldset></form></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=save() ng-disabled=!editForm.$valid>Save Measurements</button> <button type=button class="btn btn-default" ng-click=close()>Close</button></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/measurements/lmi.html",'<div class="input-group lmi-input-group"><span class="input-group-addon lmi-input-name">{{ m.name }}</span> <span ng-switch=current.assignment.team_role><input ng-switch-when=self_assigned class="lmi-input-value numeric" type=number name={{m.perm_link}} ng-model=m.person min=0> <a ng-switch-default="" ng-click=editMeasurementDetails(m);><div class="lmi-input-value numeric">{{m.total}}</div></a></span></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/measurements/measurements.html","<div class=\"panel panel-default\" ng-show=current.isLoaded><div class=panel-body><form name=lmiForm><fieldset><legend>Local Movement Indicators</legend><table class=lmi_table><thead><tr><th></th><th><h1><small>Faith Actions</small></h1></th><th></th><th><h1><small>Fruit</small></h1></th><th></th><th><h1><small>Outcome</small></h1></th></tr></thead><tbody><tr><td class=vertical-text><h1><small>Win</small></h1></td><td><div ng-repeat=\"m in measurements | filter: {section: 'win', column:'faith'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td><td><span class=\"glyphicon glyphicon-chevron-right\"></span></td><td><div ng-repeat=\"m in measurements | filter: {section: 'win', column: 'fruit'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td><td rowspan=3><span class=\"glyphicon glyphicon-chevron-right\"></span></td><td rowspan=3><div ng-repeat=\"m in measurements | filter:{column: 'outcome'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td></tr><tr><td class=vertical-text><h1><small>Build</small></h1></td><td><div ng-repeat=\"m in measurements | filter: {section: 'build', column: 'faith'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td><td><span class=\"glyphicon glyphicon-chevron-right\"></span></td><td><div ng-repeat=\"m in measurements | filter: {section: 'build', column: 'fruit'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td></tr><tr><td class=vertical-text><h1><small>Send</small></h1></td><td><div ng-repeat=\"m in measurements | filter: {section: 'send', column: 'faith'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td><td><span class=\"glyphicon glyphicon-chevron-right\"></span></td><td><div ng-repeat=\"m in measurements | filter: {section: 'send', column: 'fruit'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></td></tr></tbody></table></fieldset><fieldset ng-if=hasOther()><legend>Other Measurements</legend><div><div class=col-lg-3 ng-repeat=\"m in measurements | filter: {section: 'other', column: 'other'} | orderBy:'sort_order'\" ng-include=\"'partials/measurements/lmi.html'\"></div></div></fieldset></form><div class=pull-right ng-if=\"current.assignment.team_role == 'self_assigned' && lmiForm.$dirty\"><button type=button class=\"btn btn-primary\" ng-click=save() ng-disabled=!lmiForm.$valid>Save Changes</button></div></div></div>")
}]),angular.module("app").run(["$templateCache",function(e){e.put("partials/reports/reports.html","<div id=reports-chart style=width:100%;height:400px;margin-bottom:50px;></div><div id=reports-table></div>")}]);
//# sourceMappingURL=partials.min.js.map