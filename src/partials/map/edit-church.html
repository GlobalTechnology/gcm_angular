<div id="church_window">
	<div style="clear:both"></div>
	<div class='church-window'>
		<h4>{{edit_church.name}} <br />
			<small>{{edit_church.size}} members</small>
		</h4>

		<table class="table table-condensed">
			<tr>
				<td><b>Contact Name: </b></td>
				<td>
					<input type="text" class="form-control input-sm" ng-show="edit_church.editable" ng-model='edit_church.contact_name' />
					<label ng-hide="edit_church.editable">{{edit_church.contact_name}}</label>
				</td>
			</tr>
			<tr>
				<td><b>Contact Email:</b></td>
				<td>
					<input type="email" class="form-control input-sm" ng-show="edit_church.editable" ng-model='edit_church.contact_email' />
					<label ng-hide="edit_church.editable">{{edit_church.contact_email}}</label>
				</td>
			</tr>
			<tr>
				<td><b>Contact Mobile:</b></td>
				<td>
					<input type="text" class="form-control input-sm" ng-show="edit_church.editable" ng-model='edit_church.contact_mobile' />
					<label ng-hide="edit_church.editable">{{edit_church.contact_mobile}}</label>
				</td>
			</tr>
			<tr>
				<td><b>JESUS Film activity used</b></td>
				<td>
					<input type="checkbox" class="checkbox" ng-show="edit_church.editable" ng-model='edit_church.jf_contrib'/>
					<label ng-hide="edit_church.editable">{{(edit_church.jf_contrib) ? 'Yes' : 'No'}}</label>
				</td>
			</tr>
			<tr ng-show="edit_church.editable">
				<td><b>Type:</b></td>
				<td>
					<select class="form-control input-sm" ng-model="edit_church.development" ng-disabled="!edit_church.editable">
						<option value="1">Target</option>
						<option value="2">Group</option>
						<option value="3">Church</option>
						<option value="5">Multiplying Church</option>
					</select>
				</td>
			</tr>
			<tr ng-show="edit_church.editable">
				<td><b>Size:</b></td>
				<td>
					<input type="number" class="form-control input-sm" ng-disabled="!edit_church.editable" ng-model="edit_church.size" min="0" />
				</td>
			</tr>
			<tr ng-show="edit_church.editable" ng-if="!current.hasRole('blocked')">
				<td><b>Security:</b></td>
				<td>
					<select class="form-control input-sm" ng-model="edit_church.security" ng-disabled="!edit_church.editable">
						<option value="0">This Ministry Only</option>
						<option value="1">This Ministry and above</option>
						<option value="3">All Registred Users</option>
						<option value="4">Everyone</option>
					</select>
				</td>
			</tr>
			<tr ng-if="edit_church.editable && current.hasRole(['admin','inherited_admin','leader', 'inherited_leader'])">
				<td><b>Ministry:</b></td>
				<td>
					<select
						class="form-control input-sm"
						ng-model="edit_church.ministry_id"
						ng-options="m.ministry_id as m.name for m in current.ministries | roleFilter:['admin','inherited_admin','leader','inherited_leader'] | orderBy:'name'">
					</select>
				</td>
			</tr>
			<!--<tr>
				<td><b>Language:</b> </td>
				<td>
					<input type="text" ng-show="edit_church.editable" ng-model='edit_church.language' />
					<label ng-hide="edit_church.editable">{{edit_church.language}}</label>

				</td>
			</tr>
			<tr>
				<td><b>People Group:</b> </td>
				<td>
					<input type="text" ng-show="edit_church.editable" ng-model='edit_church.people_group' />
					<label ng-hide="edit_church.editable">{{people_group}}</label>
				</td>
			</tr>-->
		</table>
		<div ng-if="edit_church.editable">
			<div class="btn-group btn-group-sm btn-group-justified" role="group">
				<div class="btn-group btn-group-sm dropup" dropdown>
					<button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle>
						Options <span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a href ng-click="makeMovableIcon.MoveChurch()">
								<span class="glyphicon glyphicon-move" aria-hidden="true"></span> Move Church
							</a>
						</li>
						<li>
							<a href ng-click="SetParent()" ng-if="edit_church.parents.length == 0">
								<span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> Set Parent Church
							</a>
							<a href ng-click="RemoveParent()" ng-if="edit_church.parents.length == 1">
								<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Remove Parent Church
							</a>
						</li>
						<li ng-if="edit_church.child_count == 0" role="presentation" class="divider"></li>
						<li ng-if="edit_church.child_count == 0">
							<a href ng-click="DeleteChurch()">
								<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Delete Church
							</a>
						</li>
					</ul>
				</div>
				<a href class="btn btn-primary" ng-click="SaveChurch()"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Save Changes</a>
			</div>
		</div>
	</div>
</div>
